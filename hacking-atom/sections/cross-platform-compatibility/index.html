<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="utf-8">
<title>Cross-Platform Compatibility</title>

<link rel="stylesheet" media="all" href="/assets/stylesheets/application.css" data-proofer-ignore>


<script type="text/javascript" src="/assets/javascripts/application.js"></script>

<script type="text/javascript">
  $(function() {
    $('#quicksearch-query').lunrSearch({

      indexUrl: '/search.json',

      quickSearchResults:  '.autocomplete-results',
      quickSearchEntries:  '.result-group',
      quickSearchTemplate: '#quicksearch-results-template',

      searchResults: '.search-container',
      searchEntries: '.search-results',
      searchTemplate: '#search-results-template'
    })
  })
</script>

    <link rel="shortcut icon" href="http://flight-manual.atom.io/assets/images/favicon.ico" />

  </head>
  <body class="layout-article">
    <div class="footer-push">
      <div class="top-bar">
  <div class="wrapper no-pad">

    <ul class="navigation">
      <li><h1 title="Atom: A hackable text editor for the 21st Century"><a href="https://atom.io/" class="logo-small"></a></h1></li>
      <li><a href="https://atom.io/packages">Packages</a></li>
      <li><a href="https://atom.io/themes">Themes</a></li>
      <li><a href="https://atom.io/docs" class="is-selected">Documentation</a></li>
      <li><a href="http://blog.atom.io">Blog</a></li>
      <li><a href="http://discuss.atom.io">Discuss</a></li>
    </ul>

  </div>
</div>

      <div class="wrapper documents content-push wide">
        <script id="quicksearch-results-template" type="text/mustache">
  [[#entries]]
    <a href="[[url]]" class="js-articles-quicksearch-link">[[title]]</a>
  [[/entries]]
  <a class="initial quicksearch-seemore" href="/search?q=">See more results</a>
</script>

<script id="search-results-template" type="text/mustache">
  [[#entries]]
    <li>
      <h3>
        <a href="[[url]]">[[title]]</a>
        <div class="label"><a href="[[category_url]]">[[category]]</a></div>
      </h3>
      <p>
      [[excerpt]]
      </p>
    </li>
  [[/entries]]
</script>

<div class="documents-search">
  <form accept-charset="UTF-8" action="/search" id="articles-search" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="âœ“"></div>
    <input type="search" name="q" id="quicksearch-query" class="documents-search-input js-articles-quicksearch" placeholder="Search the Flight Manual" autocomplete="off">
  </form>
</div>

<div class="autocomplete-results" style="display: none;">
  <div class="result-group"></div>
</div>


        <div class="toc">
          


<h4>
  <a href="/getting-started">Chapter 1: Getting Started</a>
</h4>
<ul>
  
  
    <li class="unselected">
      <a href="/getting-started/sections/why-atom">Why Atom?</a>
    </li>
    
  
    <li class="unselected">
      <a href="/getting-started/sections/installing-atom">Installing Atom</a>
    </li>
    
  
    <li class="unselected">
      <a href="/getting-started/sections/atom-basics">Atom Basics</a>
    </li>
    
  
    <li class="unselected">
      <a href="/getting-started/sections/summary">Summary</a>
    </li>
    
  
  
</ul>


<h4>
  <a href="/using-atom">Chapter 2: Using Atom</a>
</h4>
<ul>
  
  
    <li class="unselected">
      <a href="/using-atom/sections/atom-packages">Atom Packages</a>
    </li>
    
  
    <li class="unselected">
      <a href="/using-atom/sections/moving-in-atom">Moving in Atom</a>
    </li>
    
  
    <li class="unselected">
      <a href="/using-atom/sections/atom-selections">Atom Selections</a>
    </li>
    
  
    <li class="unselected">
      <a href="/using-atom/sections/editing-and-deleting-text">Editing and Deleting Text</a>
    </li>
    
  
    <li class="unselected">
      <a href="/using-atom/sections/find-and-replace">Find and Replace</a>
    </li>
    
  
    <li class="unselected">
      <a href="/using-atom/sections/snippets">Snippets</a>
    </li>
    
  
    <li class="unselected">
      <a href="/using-atom/sections/autocomplete">Autocomplete</a>
    </li>
    
  
    <li class="unselected">
      <a href="/using-atom/sections/folding">Folding</a>
    </li>
    
  
    <li class="unselected">
      <a href="/using-atom/sections/panes">Panes</a>
    </li>
    
  
    <li class="unselected">
      <a href="/using-atom/sections/pending-pane-items">Pending Pane Items</a>
    </li>
    
  
    <li class="unselected">
      <a href="/using-atom/sections/grammar">Grammar</a>
    </li>
    
  
    <li class="unselected">
      <a href="/using-atom/sections/version-control-in-atom">Version Control in Atom</a>
    </li>
    
  
    <li class="unselected">
      <a href="/using-atom/sections/writing-in-atom">Writing in Atom</a>
    </li>
    
  
    <li class="unselected">
      <a href="/using-atom/sections/basic-customization">Basic Customization</a>
    </li>
    
  
    <li class="unselected">
      <a href="/using-atom/sections/summary">Summary</a>
    </li>
    
  
  
</ul>


<h4>
  <a href="/hacking-atom">Chapter 3: Hacking Atom</a>
</h4>
<ul>
  
  
    <li class="unselected">
      <a href="/hacking-atom/sections/tools-of-the-trade">Tools of the Trade</a>
    </li>
    
  
    <li class="unselected">
      <a href="/hacking-atom/sections/the-init-file">The Init File</a>
    </li>
    
  
    <li class="unselected">
      <a href="/hacking-atom/sections/package-word-count">Package: Word Count</a>
    </li>
    
  
    <li class="unselected">
      <a href="/hacking-atom/sections/package-modifying-text">Package: Modifying Text</a>
    </li>
    
  
    <li class="unselected">
      <a href="/hacking-atom/sections/creating-a-theme">Creating a Theme</a>
    </li>
    
  
    <li class="unselected">
      <a href="/hacking-atom/sections/iconography">Iconography</a>
    </li>
    
  
    <li class="unselected">
      <a href="/hacking-atom/sections/debugging">Debugging</a>
    </li>
    
  
    <li class="unselected">
      <a href="/hacking-atom/sections/writing-specs">Writing specs</a>
    </li>
    
  
    <li class="selected">
      <a href="/hacking-atom/sections/cross-platform-compatibility">Cross-Platform Compatibility</a>
    </li>
    
  
    <li class="unselected">
      <a href="/hacking-atom/sections/converting-from-textmate">Converting from TextMate</a>
    </li>
    
  
    <li class="unselected">
      <a href="/hacking-atom/sections/summary">Summary</a>
    </li>
    
  
  
</ul>


<h4>
  <a href="/behind-atom">Chapter 4: Behind Atom</a>
</h4>
<ul>
  
  
    <li class="unselected">
      <a href="/behind-atom/sections/configuration-api">Configuration API</a>
    </li>
    
  
    <li class="unselected">
      <a href="/behind-atom/sections/keymaps-in-depth">Keymaps In-Depth</a>
    </li>
    
  
    <li class="unselected">
      <a href="/behind-atom/sections/scoped-settings-scopes-and-scope-descriptors">Scoped Settings, Scopes and Scope Descriptors</a>
    </li>
    
  
    <li class="unselected">
      <a href="/behind-atom/sections/serialization-in-atom">Serialization in Atom</a>
    </li>
    
  
    <li class="unselected">
      <a href="/behind-atom/sections/developing-node-modules">Developing Node Modules</a>
    </li>
    
  
    <li class="unselected">
      <a href="/behind-atom/sections/interacting-with-other-packages-via-services">Interacting With Other Packages Via Services</a>
    </li>
    
  
    <li class="unselected">
      <a href="/behind-atom/sections/maintaining-your-packages">Maintaining Your Packages</a>
    </li>
    
  
    <li class="unselected">
      <a href="/behind-atom/sections/summary">Summary</a>
    </li>
    
  
  
</ul>


<h4>
  <a href="/upgrading-to-1-0-apis">Chapter 5: Upgrading to 1.0 APIs</a>
</h4>
<ul>
  
  
    <li class="unselected">
      <a href="/upgrading-to-1-0-apis/sections/upgrading-your-package">Upgrading Your Package</a>
    </li>
    
  
    <li class="unselected">
      <a href="/upgrading-to-1-0-apis/sections/upgrading-your-ui-theme-or-package-selectors">Upgrading Your UI Theme Or Package Selectors</a>
    </li>
    
  
    <li class="unselected">
      <a href="/upgrading-to-1-0-apis/sections/upgrading-your-syntax-theme">Upgrading Your Syntax Theme</a>
    </li>
    
  
  
</ul>


        </div>

        <div id="platform-nav">
  <ul>
    <li class="platform-mac">
      <a href="#platform-mac" data-platform="mac">
        mac
      </a>
    </li>
    <li class="platform-windows">
      <a href="#platform-windows" data-platform="windows">
        windows
      </a>
    </li>
    <li class="platform-linux">
      <a href="#platform-linux" data-platform="linux">
        linux
      </a>
    </li>
  </ul>
</div>


        
        <h1 class="document-title">
          <span class="article-title">3.9 Cross-Platform Compatibility</span>
          <a class="improve-link"
              href="https://github.com/atom/flight-manual.atom.io/edit/master/content/hacking-atom/sections/cross-platform-compatibility.md" data-proofer-ignore>
            <span class="octicon octicon-pencil"></span> Improve this page
          </a>
        </h1>

        <div class="markdown-body document-content">
          
          <h3>
<a id="cross-platform-compatibility" class="anchor" href="#cross-platform-compatibility" aria-hidden="true"><span class="octicon octicon-link"></span></a>Cross-Platform Compatibility</h3>

<p>Atom runs on a number of platforms and while Electron and Node take care of many of the details there<br>
are still some considerations to ensure your package works on other operating systems.</p>

<h4>
<a id="symlinks" class="anchor" href="#symlinks" aria-hidden="true"><span class="octicon octicon-link"></span></a>Symlinks</h4>

<p>File symlinks can be used on Windows by non-Administrators by specifying 'junction' as the type (this argument is ignored on macOS &amp; Linux).</p>

<p>Also consider:</p>

<ul>
<li>
<em>Symlinks committed to Git</em> will not checkout correctly on Windows - <em>dynamically create what you need with <code>fs.symlink</code> instead</em>
</li>
<li>
<em>Symlinked directories</em> are only available to Administrators on Windows - <em>avoid a dependency on them</em>
</li>
</ul>

<h4>
<a id="filenames" class="anchor" href="#filenames" aria-hidden="true"><span class="octicon octicon-link"></span></a>Filenames</h4>

<ul>
<li>
<em>Reserved filenames</em> on Windows are <code>com1</code>-<code>com9</code>, <code>lpt1</code>-<code>lpt9</code>, <code>con</code>, <code>nul</code>, <code>aux</code> and <code>prn</code> (regardless of extension, e.g. <code>prn.txt</code> is disallowed)</li>
<li>
<em>Reserved characters</em> on Windows are ? \ / &lt; &gt; ? % | : "  <em>so avoid where possible</em>
</li>
<li>
<em>Names with spaces</em> when passed to the command line;

<ul>
<li>Windows requires you <em>surround the path with double quotes</em> e.g. <code>c:\my test</code>
</li>
<li>macOS and Linux require <em>a backslash before each space</em> e.g. <code>/my\ test</code>
</li>
</ul>
</li>
</ul>

<h4>
<a id="file-paths" class="anchor" href="#file-paths" aria-hidden="true"><span class="octicon octicon-link"></span></a>File paths</h4>

<ul>
<li>Windows uses <code>\</code> although some tools and PowerShell allow <code>/</code> too</li>
<li>macOS and Linux use <code>/</code>
</li>
</ul>

<p>You can dynamically find out what your platform uses with <code>path.sep</code> or better yet <em>use the node path library functions</em> such as <code>join</code> and <code>normalize</code> which automatically take care of this.</p>

<p>Windows supports up to <em>250 characters</em> for a path - <em>avoid deeply nested directory structures</em></p>

<h4>
<a id="paths-are-not-urls" class="anchor" href="#paths-are-not-urls" aria-hidden="true"><span class="octicon octicon-link"></span></a>Paths are not URLs</h4>

<p>URL parsing routines should not be used on file paths. While they initially look like a relative path it will fail in a number of scenarios on all platforms.</p>

<ul>
<li>Various characters are misinterpreted, e.g. <code>?</code> as query string, <code>#</code> as a fragment identifier</li>
<li>
<strong>Windows</strong> drive specifiers are incorrectly parsed as a protocol</li>
</ul>

<p>If you need to use a path for a URL use the file: protocol with an absolute path instead to ensure drive letters and slashes are appropriately addressed, e.g. <code>file:///c|/test/pic.png</code></p>

<h4>
<a id="fsstat-on-directories" class="anchor" href="#fsstat-on-directories" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>fs.stat</code> on directories</h4>

<p>The <code>fs.stat</code> function does not return the size of the contents of a directory are but rather the allocation size of the directory itself. This returns 0 on Windows and 1024 on macOS and so should not be relied upon.</p>

<h4>
<a id="pathrelative-cant-traverse-drives" class="anchor" href="#pathrelative-cant-traverse-drives" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>path.relative</code> can't traverse drives</h4>

<ul>
<li>On a macOS or Linux system <code>path.relative</code> can be used to calculate a relative path to traverse between any two given paths.</li>
<li>On Windows this is not always possible as it can contain multiple absolute roots, e.g. <code>c:\</code> and <code>d:\</code>
</li>
</ul>

<h4>
<a id="rapid-file-operations" class="anchor" href="#rapid-file-operations" aria-hidden="true"><span class="octicon octicon-link"></span></a>Rapid file operations</h4>

<p>Creation and deletion operations may take a few milliseconds to complete. If you need to remove many files and folders consider <a href="https://www.npmjs.com/package/rimraf">RimRAF</a> which has built-in retry logic for this.</p>

<h4>
<a id="line-endings" class="anchor" href="#line-endings" aria-hidden="true"><span class="octicon octicon-link"></span></a>Line endings</h4>

<ul>
<li>Windows uses <code>CRLF</code>
</li>
<li>macOS and Linux use <code>LF</code>
</li>
<li>Git on Windows often has <code>autocrlf</code> set which automatically converts between the two</li>
</ul>

<p>If you are writing specs that use text file fixtures consider that this will interfere with file lengths, hash codes and direct text comparisons. It will also change the Atom selection length by 1 character per line.</p>

<p>If you have spec fixtures that are text files you may want to tell Git to force LF, CRLF or not convert them by specifying the paths in <code>.gitattributes</code> e.g.</p>

<pre><code>spec/fixtures/always-crlf.txt eol=crlf
spec/fixtures/always-lf.txt eol=lf
spec/fixtures/leave-as-is.txt -text
</code></pre>
        </div>
      </div>
      <div class="footer-pad"></div>
    </div>
    <footer>
  <div class="footer">
    <div class="wrapper no-pad">
      <ul class="footer-left">
        <li><a href="https://atom.io/terms">Terms of Use</a></li>
        <li><a href="https://help.github.com/articles/github-privacy-policy/">Privacy</a></li>
        <li><a href="http://github.com/atom/atom/blob/master/CODE_OF_CONDUCT.md">Code of Conduct</a></li>
        <li><a href="https://atom.io/releases">Releases</a></li>
        <li><a href="https://atom.io/faq">FAQ</a></li>
        <li><a href="https://atom.io/contact">Contact</a></li>
        <li><a href="https://github.com/atom/flight-manual.atom.io/blob/master/CONTRIBUTING.md">Contribute!</a></li>
      </ul>

      <div class="footer-right">
        <a href="https://github.com"><span class="octicon octicon-code"></span> with <span class="octicon octicon-heart"></span> by <span class="octicon octicon-logo-github"></span></a>
      </div>
    </div>
  </div>
</footer>

  </body>
</html>
