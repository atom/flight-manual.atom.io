<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="utf-8">
<title>Removing Shadow DOM styles</title>

<link rel="stylesheet" media="all" href="/assets/stylesheets/application.css" data-proofer-ignore>


<script type="text/javascript" src="/assets/javascripts/application.js"></script>

<script type="text/javascript">
  $(function() {
    $('#quicksearch-query').lunrSearch({

      indexUrl: '/search.json',

      quickSearchResults:  '.autocomplete-results',
      quickSearchEntries:  '.result-group',
      quickSearchTemplate: '#quicksearch-results-template',

      searchResults: '.search-container',
      searchEntries: '.search-results',
      searchTemplate: '#search-results-template'
    })
  })
</script>

    <link rel="shortcut icon" href="http://flight-manual.atom.io/assets/images/favicon.ico" />

  </head>
  <body class="layout-article">
    <div class="footer-push">
      <div class="top-bar">
  <div class="wrapper no-pad">

    <ul class="navigation">
      <li><h1 title="Atom: A hackable text editor for the 21st Century"><a href="https://atom.io/" class="logo-small"></a></h1></li>
      <li><a href="https://atom.io/packages">Packages</a></li>
      <li><a href="https://atom.io/themes">Themes</a></li>
      <li><a href="https://atom.io/docs" class="is-selected">Documentation</a></li>
      <li><a href="http://blog.atom.io">Blog</a></li>
      <li><a href="https://discuss.atom.io">Discuss</a></li>
    </ul>

  </div>
</div>

      <div class="wrapper documents content-push wide">
        <script id="quicksearch-results-template" type="text/mustache">
  [[#entries]]
    <a href="[[url]]" class="js-articles-quicksearch-link">[[title]]</a>
  [[/entries]]
  <a class="initial quicksearch-seemore" href="/search?q=">See more results</a>
</script>

<script id="search-results-template" type="text/mustache">
  [[#entries]]
    <li>
      <h3>
        <a href="[[url]]">[[title]]</a>
        <div class="label"><a href="[[category_url]]">[[category]]</a></div>
      </h3>
      <p>
      [[excerpt]]
      </p>
    </li>
  [[/entries]]
</script>

<div class="documents-search">
  <form accept-charset="UTF-8" action="/search" id="articles-search" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="âœ“"></div>
    <input type="search" name="q" id="quicksearch-query" class="documents-search-input js-articles-quicksearch" placeholder="Search the Flight Manual" autocomplete="off">
  </form>
</div>

<div class="autocomplete-results" style="display: none;">
  <div class="result-group"></div>
</div>


        <div class="toc">
          


  <h4>
    <a href="/getting-started">Chapter 1: Getting Started</a>
  </h4>
  <ul>
    
      <li class="unselected">
        <a href="/getting-started/sections/why-atom">Why Atom?</a>
      </li>
    
      <li class="unselected">
        <a href="/getting-started/sections/installing-atom">Installing Atom</a>
      </li>
    
      <li class="unselected">
        <a href="/getting-started/sections/atom-basics">Atom Basics</a>
      </li>
    
      <li class="unselected">
        <a href="/getting-started/sections/summary">Summary</a>
      </li>
    
  </ul>

  <h4>
    <a href="/using-atom">Chapter 2: Using Atom</a>
  </h4>
  <ul>
    
      <li class="unselected">
        <a href="/using-atom/sections/atom-packages">Atom Packages</a>
      </li>
    
      <li class="unselected">
        <a href="/using-atom/sections/moving-in-atom">Moving in Atom</a>
      </li>
    
      <li class="unselected">
        <a href="/using-atom/sections/atom-selections">Atom Selections</a>
      </li>
    
      <li class="unselected">
        <a href="/using-atom/sections/editing-and-deleting-text">Editing and Deleting Text</a>
      </li>
    
      <li class="unselected">
        <a href="/using-atom/sections/find-and-replace">Find and Replace</a>
      </li>
    
      <li class="unselected">
        <a href="/using-atom/sections/snippets">Snippets</a>
      </li>
    
      <li class="unselected">
        <a href="/using-atom/sections/autocomplete">Autocomplete</a>
      </li>
    
      <li class="unselected">
        <a href="/using-atom/sections/folding">Folding</a>
      </li>
    
      <li class="unselected">
        <a href="/using-atom/sections/panes">Panes</a>
      </li>
    
      <li class="unselected">
        <a href="/using-atom/sections/pending-pane-items">Pending Pane Items</a>
      </li>
    
      <li class="unselected">
        <a href="/using-atom/sections/grammar">Grammar</a>
      </li>
    
      <li class="unselected">
        <a href="/using-atom/sections/version-control-in-atom">Version Control in Atom</a>
      </li>
    
      <li class="unselected">
        <a href="/using-atom/sections/github-package">GitHub package</a>
      </li>
    
      <li class="unselected">
        <a href="/using-atom/sections/writing-in-atom">Writing in Atom</a>
      </li>
    
      <li class="unselected">
        <a href="/using-atom/sections/basic-customization">Basic Customization</a>
      </li>
    
      <li class="unselected">
        <a href="/using-atom/sections/summary">Summary</a>
      </li>
    
  </ul>

  <h4>
    <a href="/hacking-atom">Chapter 3: Hacking Atom</a>
  </h4>
  <ul>
    
      <li class="unselected">
        <a href="/hacking-atom/sections/tools-of-the-trade">Tools of the Trade</a>
      </li>
    
      <li class="unselected">
        <a href="/hacking-atom/sections/the-init-file">The Init File</a>
      </li>
    
      <li class="unselected">
        <a href="/hacking-atom/sections/package-word-count">Package: Word Count</a>
      </li>
    
      <li class="unselected">
        <a href="/hacking-atom/sections/package-modifying-text">Package: Modifying Text</a>
      </li>
    
      <li class="unselected">
        <a href="/hacking-atom/sections/package-active-editor-info">Package: Active Editor Info</a>
      </li>
    
      <li class="unselected">
        <a href="/hacking-atom/sections/creating-a-theme">Creating a Theme</a>
      </li>
    
      <li class="unselected">
        <a href="/hacking-atom/sections/publishing">Publishing</a>
      </li>
    
      <li class="unselected">
        <a href="/hacking-atom/sections/iconography">Iconography</a>
      </li>
    
      <li class="unselected">
        <a href="/hacking-atom/sections/debugging">Debugging</a>
      </li>
    
      <li class="unselected">
        <a href="/hacking-atom/sections/writing-specs">Writing specs</a>
      </li>
    
      <li class="unselected">
        <a href="/hacking-atom/sections/cross-platform-compatibility">Cross-Platform Compatibility</a>
      </li>
    
      <li class="unselected">
        <a href="/hacking-atom/sections/converting-from-textmate">Converting from TextMate</a>
      </li>
    
      <li class="unselected">
        <a href="/hacking-atom/sections/contributing-to-official-atom-packages">Contributing to Official Atom Packages</a>
      </li>
    
      <li class="unselected">
        <a href="/hacking-atom/sections/summary">Summary</a>
      </li>
    
  </ul>

  <h4>
    <a href="/behind-atom">Chapter 4: Behind Atom</a>
  </h4>
  <ul>
    
      <li class="unselected">
        <a href="/behind-atom/sections/configuration-api">Configuration API</a>
      </li>
    
      <li class="unselected">
        <a href="/behind-atom/sections/keymaps-in-depth">Keymaps In-Depth</a>
      </li>
    
      <li class="unselected">
        <a href="/behind-atom/sections/scoped-settings-scopes-and-scope-descriptors">Scoped Settings, Scopes and Scope Descriptors</a>
      </li>
    
      <li class="unselected">
        <a href="/behind-atom/sections/serialization-in-atom">Serialization in Atom</a>
      </li>
    
      <li class="unselected">
        <a href="/behind-atom/sections/developing-node-modules">Developing Node Modules</a>
      </li>
    
      <li class="unselected">
        <a href="/behind-atom/sections/interacting-with-other-packages-via-services">Interacting With Other Packages Via Services</a>
      </li>
    
      <li class="unselected">
        <a href="/behind-atom/sections/maintaining-your-packages">Maintaining Your Packages</a>
      </li>
    
      <li class="unselected">
        <a href="/behind-atom/sections/how-atom-uses-chromium-snapshots">How Atom Uses Chromium Snapshots</a>
      </li>
    
      <li class="unselected">
        <a href="/behind-atom/sections/summary">Summary</a>
      </li>
    
  </ul>



  <h4>
    <a href="/resources">Appendix A: Resources</a>
  </h4>
  <ul>
    
      <li class="unselected">
        <a href="/resources/sections/glossary">Glossary</a>
      </li>
    
  </ul>

  <h4>
    <a href="/shadow-dom">Appendix B: Shadow DOM</a>
  </h4>
  <ul>
    
      <li class="selected">
        <a href="/shadow-dom/sections/removing-shadow-dom-styles">Removing Shadow DOM styles</a>
      </li>
    
  </ul>

  <h4>
    <a href="/upgrading-to-1-0-apis">Appendix C: Upgrading to 1.0 APIs</a>
  </h4>
  <ul>
    
      <li class="unselected">
        <a href="/upgrading-to-1-0-apis/sections/upgrading-your-package">Upgrading Your Package</a>
      </li>
    
      <li class="unselected">
        <a href="/upgrading-to-1-0-apis/sections/upgrading-your-ui-theme-or-package-selectors">Upgrading Your UI Theme Or Package Selectors</a>
      </li>
    
      <li class="unselected">
        <a href="/upgrading-to-1-0-apis/sections/upgrading-your-syntax-theme">Upgrading Your Syntax Theme</a>
      </li>
    
  </ul>


        </div>

        
        <h1 class="document-title">
          <div id="platform-nav">
  <span class="octicon octicon-device-desktop"></span>
  <ul>
    <li class="platform-mac">
      <a href="#platform-mac" data-platform="mac">
        mac
      </a>
    </li>
    <li class="platform-windows">
      <a href="#platform-windows" data-platform="windows">
        windows
      </a>
    </li>
    <li class="platform-linux">
      <a href="#platform-linux" data-platform="linux">
        linux
      </a>
    </li>
  </ul>
</div>

          <a class="improve-link"
              href="https://github.com/atom/flight-manual.atom.io/edit/master/content/shadow-dom/sections/removing-shadow-dom-styles.md" data-proofer-ignore>
            <span class="octicon octicon-pencil"></span> Improve this page
          </a>
        </h1>

        <div class="markdown-body document-content">
          
          <h3>
<a id="removing-shadow-dom-styles" class="anchor" href="#removing-shadow-dom-styles" aria-hidden="true"><span class="octicon octicon-link"></span></a>Removing Shadow DOM styles</h3>

<p>In Atom <code>1.13</code> the Shadow DOM got removed from text editors. For more background on the reasoning, check out the <a href="https://github.com/atom/atom/pull/12903">Pull Request</a> where it was removed. In this guide you will learn how to migrate your theme or package.</p>

<h4>
<a id="summary" class="anchor" href="#summary" aria-hidden="true"><span class="octicon octicon-link"></span></a>Summary</h4>

<p>Here a quick summary to see all the changes at a glance:</p>

<table>
<thead>
<tr>
<th>Before</th>
<th>+/-</th>
<th>After</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>atom-text-editor::shadow {}</code></td>
<td>- <code>::shadow</code>
</td>
<td><code>atom-text-editor {}</code></td>
</tr>
<tr>
<td><code>.class /deep/ .class {}</code></td>
<td>- <code>/deep/</code>
</td>
<td><code>.class .class {}</code></td>
</tr>
<tr>
<td><code>atom-text-editor, :host {}</code></td>
<td>- <code>:host</code>
</td>
<td><code>atom-text-editor {}</code></td>
</tr>
<tr>
<td><code>.comment {}</code></td>
<td>+ <code>.syntax--</code>
</td>
<td><code>.syntax--comment {}</code></td>
</tr>
</tbody>
</table>

<p>Below you'll find more detailed examples.</p>

<h4>
<a id="ui-themes-and-packages" class="anchor" href="#ui-themes-and-packages" aria-hidden="true"><span class="octicon octicon-link"></span></a>UI themes and packages</h4>

<h5>
<a id="shadow" class="anchor" href="#shadow" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>::shadow</code>
</h5>

<p>Remove the <code>::shadow</code> pseudo-element selector from <code>atom-text-editor</code>.</p>

<p>Before:</p>

<pre class="highlight highlight-less"><code>atom-text-editor::shadow .cursor {
  border-color: hotpink;
}
</code></pre>


<p>After:</p>

<pre class="highlight highlight-less"><code>atom-text-editor .cursor {
  border-color: hotpink;
}
</code></pre>


<h5>
<a id="deep" class="anchor" href="#deep" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>/deep/</code>
</h5>

<p>Remove the <code>/deep/</code> combinator selector. It didn't get used that often, mainly to customize the scrollbars.</p>

<p>Before:</p>

<pre class="highlight highlight-less"><code>.scrollbars-visible-always /deep/ ::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
</code></pre>


<p>After:</p>

<pre class="highlight highlight-less"><code>.scrollbars-visible-always ::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
</code></pre>


<h4>
<a id="syntax-themes" class="anchor" href="#syntax-themes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Syntax themes</h4>

<h5>
<a id="host" class="anchor" href="#host" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>:host</code>
</h5>

<p>Remove the <code>:host</code> pseudo-element selector. To scope any styles to the text editor, using <code>atom-text-editor</code> is already enough.</p>

<p>Before:</p>

<pre class="highlight highlight-less"><code>atom-text-editor, :host {
  .cursor {
    border-color: hotpink;
  }
}
</code></pre>


<p>After:</p>

<pre class="highlight highlight-less"><code>atom-text-editor {
  .cursor {
    border-color: hotpink;
  }
}
</code></pre>


<h5>
<a id="syntax--" class="anchor" href="#syntax--" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>syntax--</code>
</h5>

<p>Add a <code>syntax--</code> prefix to all grammar selectors used by language packages. It looks a bit verbose, but it will protect all the grammar selectors from accidental style pollution.</p>

<p>Before:</p>

<pre class="highlight highlight-less"><code>.comment {
  color: @mono-3;
  font-style: italic;

  .markup.link {
    color: @mono-3;
  }
}
</code></pre>


<p>After:</p>

<pre class="highlight highlight-less"><code>.syntax--comment {
  color: @mono-3;
  font-style: italic;

  .syntax--markup.syntax--link {
    color: @mono-3;
  }
}
</code></pre>


<p><strong>Note</strong>: Selectors like the <code>.gutter</code>, <code>.indent-guide</code>, <code>.cursor</code> among others, that are also part of Syntax themes, don't need a prefix. <strong>Only</strong> grammar selectors that get used by language packages. For example <code>.syntax--keyword</code>, <code>.syntax--keyword.syntax--operator.syntax--js</code>.</p>

<h4>
<a id="context-targeted-style-sheets" class="anchor" href="#context-targeted-style-sheets" aria-hidden="true"><span class="octicon octicon-link"></span></a>Context-Targeted Style Sheets</h4>

<p>Atom also allowed you to target a specific shadow DOM context with an entire style sheet by adding <code>.atom-text-editor</code> to the file name. This is now not necessary anymore and can be removed.</p>

<p>Before:</p>

<pre><code>my-ui-theme/
  styles/
    index.atom-text-editor.less
</code></pre>

<p>After:</p>

<pre><code>my-ui-theme/
  styles/
    index.less
</code></pre>

<h4>
<a id="i-followed-the-guide-but-now-my-styling-is-broken" class="anchor" href="#i-followed-the-guide-but-now-my-styling-is-broken" aria-hidden="true"><span class="octicon octicon-link"></span></a>I followed the guide, but now my styling is broken!</h4>

<p>By replacing <code>atom-text-editor::shadow</code> with <code>atom-text-editor.editor</code>, specificity might have changed. This can cause the side effect that some of your properties won't be strong enough. To fix that, you can increase specificity on your selector. A simple way is to just repeat your class (in the example below it's <code>.my-class</code>):</p>

<p>Before:</p>

<pre class="highlight highlight-less"><code>atom-text-editor::shadow .my-class {
  color: hotpink;
}
</code></pre>


<p>After:</p>

<pre class="highlight highlight-less"><code>atom-text-editor .my-class.my-class {
  color: hotpink;
}
</code></pre>


<h4>
<a id="when-should-i-migrate-my-themepackage" class="anchor" href="#when-should-i-migrate-my-themepackage" aria-hidden="true"><span class="octicon octicon-link"></span></a>When should I migrate my theme/package?</h4>

<ul>
<li>If you already want to test the migration on master or Beta channel, make sure to change your <code>package.json</code> file to <code>"engines": { "atom": "&gt;=1.13.0 &lt;2.0.0" }</code>. This will prevent Atom from updating your theme or package before the user also updates Atom to version <code>1.13</code>.</li>
<li>Or you can wait until Atom <code>1.13</code> reaches <strong>Stable</strong>. Check <a href="http://blog.atom.io/">blog.atom.io</a> to see if <code>1.13</code> already has been released. Don't worry if you're a bit late, Atom will transform the deprecated selectors automatically to avoid breaking any themes or packages. But users will start to see a deprecation warning in <a href="https://github.com/atom/deprecation-cop">deprecation-cop</a>.</li>
</ul>
        </div>
      </div>
      <div class="footer-pad"></div>
    </div>
    <footer>
  <div class="footer">
    <div class="wrapper no-pad">
      <ul class="footer-left">
        <li><a href="https://atom.io/terms">Terms of Use</a></li>
        <li><a href="https://help.github.com/articles/github-privacy-policy/">Privacy</a></li>
        <li><a href="http://github.com/atom/atom/blob/master/CODE_OF_CONDUCT.md">Code of Conduct</a></li>
        <li><a href="https://atom.io/releases">Releases</a></li>
        <li><a href="https://atom.io/faq">FAQ</a></li>
        <li><a href="https://atom.io/contact">Contact</a></li>
        <li><a href="https://github.com/atom/flight-manual.atom.io/blob/master/CONTRIBUTING.md">Contribute!</a></li>
      </ul>

      <div class="footer-right">
        <a href="https://github.com"><span class="octicon octicon-code"></span> with <span class="octicon octicon-heart"></span> by <span class="octicon octicon-logo-github"></span></a>
      </div>
    </div>
  </div>
</footer>

  </body>
</html>
